/**
 * Skeleton Loading Styles - Market Depth Cinema
 *
 * Graceful loading states that maintain visual hierarchy during content fetch.
 * Shimmer animation creates the impression of content materializing from glass.
 */

/* ==========================================
   BASE SKELETON
   ========================================== */

/**
 * Base skeleton with pulsing glass effect.
 * Appears as a glowing glass panel awaiting content.
 */
.skeleton {
  position: relative;
  background: var(--glass-bg-base);
  backdrop-filter: blur(var(--glass-blur-sm));
  -webkit-backdrop-filter: blur(var(--glass-blur-sm));
  border: 1px solid var(--glass-border-color);
  border-radius: var(--radius-md);
  overflow: hidden;
  animation: skeleton-pulse 2s ease-in-out infinite;
  pointer-events: none;
  user-select: none;
}

/**
 * Gentle breathing animation - content is loading, patience rewarded.
 */
@keyframes skeleton-pulse {
  0%, 100% {
    opacity: 0.6;
    background: var(--glass-bg-base);
  }
  50% {
    opacity: 0.8;
    background: var(--glass-bg-elevated);
  }
}

/* ==========================================
   SKELETON SHIMMER EFFECT
   ========================================== */

/**
 * Shimmer overlay - sweeping light reflection simulates loading progress.
 * Creates anticipation that content will arrive soon.
 */
.skeleton::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.06) 25%,
    rgba(255, 255, 255, 0.1) 50%,
    rgba(255, 255, 255, 0.06) 75%,
    transparent 100%
  );
  transform: translateX(-100%);
  animation: skeleton-shimmer 2s ease-in-out infinite;
  pointer-events: none;
}

@keyframes skeleton-shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(200%);
  }
}

/* ==========================================
   SKELETON SHAPE VARIANTS
   ========================================== */

/**
 * Text skeleton - mimics lines of text.
 * Heights match typography scale.
 */
.skeleton-text {
  height: 1em;
  border-radius: var(--radius-sm);
  margin-bottom: 0.5em;
}

.skeleton-text-sm {
  height: var(--font-size-sm);
  border-radius: var(--radius-sm);
  margin-bottom: 0.375em;
}

.skeleton-text-lg {
  height: var(--font-size-lg);
  border-radius: var(--radius-sm);
  margin-bottom: 0.625em;
}

/**
 * Heading skeleton - larger text blocks.
 */
.skeleton-heading {
  height: var(--font-size-2xl);
  border-radius: var(--radius-md);
  margin-bottom: var(--spacing-md);
  width: 60%; /* Headings typically don't span full width */
}

/**
 * Circle skeleton - for avatars, icons, or round elements.
 */
.skeleton-circle {
  aspect-ratio: 1;
  border-radius: var(--radius-full);
}

.skeleton-circle-sm {
  width: 2rem;
  height: 2rem;
}

.skeleton-circle-md {
  width: 3rem;
  height: 3rem;
}

.skeleton-circle-lg {
  width: 4rem;
  height: 4rem;
}

/**
 * Rectangle skeleton - for cards, images, or block elements.
 */
.skeleton-rect {
  border-radius: var(--radius-md);
}

.skeleton-rect-sm {
  height: 8rem;
}

.skeleton-rect-md {
  height: 12rem;
}

.skeleton-rect-lg {
  height: 16rem;
}

.skeleton-rect-xl {
  height: 24rem;
}

/**
 * Square skeleton - for square images or icons.
 */
.skeleton-square {
  aspect-ratio: 1;
  border-radius: var(--radius-md);
}

/* ==========================================
   SKELETON LAYOUTS
   ========================================== */

/**
 * Event card skeleton - matches EventListItem layout.
 */
.skeleton-event-card {
  padding: var(--spacing-md);
  display: flex;
  gap: var(--spacing-md);
  background: var(--glass-bg-base);
  border: 1px solid var(--glass-border-color);
  border-left: 3px solid var(--glass-border-color-bright);
  border-radius: var(--radius-md);
  animation: skeleton-pulse 2s ease-in-out infinite;
}

.skeleton-event-card::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.06) 50%,
    transparent 100%
  );
  transform: translateX(-100%);
  animation: skeleton-shimmer 2s ease-in-out infinite;
}

/**
 * Chart skeleton - for depth chart loading state.
 */
.skeleton-chart {
  position: relative;
  background: var(--glass-bg-base);
  backdrop-filter: blur(var(--glass-blur-md));
  -webkit-backdrop-filter: blur(var(--glass-blur-md));
  border: 1px solid var(--glass-border-color);
  border-radius: var(--radius-lg);
  overflow: hidden;
  animation: skeleton-pulse 2s ease-in-out infinite;
}

.skeleton-chart::before {
  content: '';
  position: absolute;
  inset: var(--spacing-lg);
  background: linear-gradient(
    to top,
    rgba(16, 185, 129, 0.05) 0%,
    rgba(59, 130, 246, 0.05) 50%,
    rgba(239, 68, 68, 0.05) 100%
  );
  border-radius: var(--radius-md);
  opacity: 0.5;
}

/* ==========================================
   SKELETON GROUPS
   ========================================== */

/**
 * Multiple skeleton text lines - paragraph placeholder.
 */
.skeleton-paragraph {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.skeleton-paragraph .skeleton-text:last-child {
  width: 70%; /* Last line shorter to mimic natural text */
}

/**
 * Skeleton list - vertical stack of items.
 */
.skeleton-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

/* ==========================================
   ACCESSIBILITY - REDUCED MOTION
   ========================================== */

/**
 * Respect user preference for reduced motion.
 * Static skeleton without pulse or shimmer.
 */
@media (prefers-reduced-motion: reduce) {
  .skeleton,
  .skeleton::after,
  .skeleton-event-card,
  .skeleton-event-card::after,
  .skeleton-chart {
    animation: none;
  }

  .skeleton,
  .skeleton-event-card,
  .skeleton-chart {
    opacity: 0.7;
  }
}

/* ==========================================
   FADE-IN ON LOAD
   ========================================== */

/**
 * When content loads, fade skeleton out and real content in.
 * Apply to parent container when content is ready.
 */
.skeleton-fade-out {
  animation: fade-out var(--transition-base) var(--ease-out) forwards;
}

@keyframes fade-out {
  to {
    opacity: 0;
    pointer-events: none;
  }
}

/* ==========================================
   THEME VARIANTS
   ========================================== */

/**
 * Primary skeleton - with blue tint for primary content areas.
 */
.skeleton-primary {
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.05) 0%,
    var(--glass-bg-base) 100%
  );
}

/**
 * Success skeleton - with green tint for success states.
 */
.skeleton-success {
  background: linear-gradient(
    135deg,
    rgba(16, 185, 129, 0.05) 0%,
    var(--glass-bg-base) 100%
  );
}

/**
 * Warning skeleton - with yellow tint for warning states.
 */
.skeleton-warning {
  background: linear-gradient(
    135deg,
    rgba(251, 191, 36, 0.05) 0%,
    var(--glass-bg-base) 100%
  );
}
